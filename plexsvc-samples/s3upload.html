<!DOCTYPE html>
<html>
   <head>
      <title>Evaporate Example</title>
      <style> </style>
      <script language="javascript" type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
      <script language="javascript" type="text/javascript" src="/static/evaporate.js"></script>
   </head>
   <body>
      <div>
         <input type="file" id="files"  multiple />
      <div>
      <script language="javascript">
      
         var files;
         
         var _e_ = new Evaporate({
            signerUrl: '/sign_auth',
            aws_key: 'AKIAI65LQTXCLKBUPOVQ',
            bucket: 'shahbhat',
         });
      
         $('#files').change(function(evt){
            files = evt.target.files;
            
            for (var i = 0; i < files.length; i++){
            
               _e_.add({
                  name: 'test_1',
                  file: files[i],
                  notSignedHeadersAtInitiate: {                                                                                                                          
                     'Cache-Control': 'max-age=3600'
                  },
                  xAmzHeadersAtInitiate : {
                     'x-amz-acl': 'public-read'
                  },
                  signParams: {
                     foo: 'bar'
                  },
                  complete: function(){
                     console.log('complete................yay!');
                  },
                  progress: function(progress){
                     console.log('making progress: ' + progress);
                  }
               });
            }
            $(evt.target).val('');
         });
      
      </script>
   </body>
</html>
